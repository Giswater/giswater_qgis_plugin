# How to Use the Additional Demand Check Tool

The **Additional Demand Check** tool allows users to systematically add demands to specific nodes within the EPANET model and evaluate the network's capacity to deliver the desired demand and pressure. The assessment is done node by node individually and also by pairing additional demands within a maximum distance. By simulating these scenarios, users can gain insights into the network's performance and identify potential bottlenecks or areas for improvement. This documentation will guide you through the steps of using the Additional Demand Check tool effectively.

## Opening the Dialog

To open the Additional Demand Check dialog, follow these steps:

1. Launch QGIS.
2. Open a Giswater project.
2. Click on the GwEpaTools icon in the QGIS toolbar to access the GwEpaTools plugin.
3. Select "Analytics" from the plugin menu.
4. Choose "Additional Demand Check" from the Analytics submenu.

## Using the Additional Demand Check Tool

The Additional Demand Check dialog provides several fields that need to be filled before running the tool. Below is a description of each field:

- **Input INP file**: Provide the path to the EPANET INP file that you want to analyze. This file contains the EPANET model data and network configuration.

- **Configuration file**: Specify the path to the .in file that contains additional configuration settings for the analysis. The .in file is used to set parameters such as the maximum distance between nodes to be paired.

- **Use nodes from**: This option allows you to choose the source of nodes for demand addition. There are two radio buttons:
  - "Configuration file": Nodes will be extracted from the .in file provided in the "Configuration file" field.
  - "Database": Nodes will be extracted from the Giswater database, specifically the `anl_node` table, where the `fid` is `491` and `cur_user` is your database username.

- **Output folder**: Choose the path to the folder where you want to save the output files generated by the tool. The tool will create result files with information on demand, pressure, and network performance.

- **File name**: Specify a prefix for the output file names. The tool will create files with names starting with this prefix followed by relevant information.

## Example .in File

Here's an example of the contents of a .in file used by the Additional Demand Check tool:

```ini
[OPTIONS]
; Maximum distance between two nodes to be paired
max_distance 500

; Demand and pressure use the same units from inp_file

[JUNCTIONS]
;node   demand    pressure
1038    16.667    10
1035    16.667    10
1041    16.667    10
1020    16.667    10
1021    16.667    10
```

- The `[OPTIONS]` section defines the maximum distance between two nodes to be paired.
- The `[JUNCTIONS]` section lists the nodes along with their initial demands and pressures. These nodes will be considered for additional demand analysis.

## Running the Analysis

After filling in the required fields and providing the necessary input files, follow these steps to run the Additional Demand Check analysis:

1. Click the "OK" button on the Additional Demand Check dialog.
2. The tool will systematically add demands to the specified nodes and evaluate the network's performance.
3. Once the analysis is complete, the tool will generate output files in the specified output folder with the results of the demand and pressure evaluation. The results will be also saved in the `anl_node` table with `fid=492`.